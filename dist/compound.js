// Generated by LiveScript 1.2.0
var Signal, CompoundSignal, slice$ = [].slice;
Signal = require('signals');
CompoundSignal = (function(superclass){
  var prototype = extend$((import$(CompoundSignal, superclass).displayName = 'CompoundSignal', CompoundSignal), superclass).prototype, constructor = CompoundSignal;
  function CompoundSignal(){
    var signals, i$, len$, index, signal;
    signals = slice$.call(arguments);
    CompoundSignal.superclass.call(this);
    this.counter = signals.length;
    this.results = [];
    for (i$ = 0, len$ = signals.length; i$ < len$; ++i$) {
      index = i$;
      signal = signals[i$];
      signal.addOnce(this.callback(index), this);
    }
  }
  prototype.callback = function(index){
    return function(){
      var args;
      args = slice$.call(arguments);
      this.results[index] = args;
      if (--this.counter === 0) {
        return this.dispatch.apply(this, this.results);
      }
    };
  };
  return CompoundSignal;
}(Signal));
module.exports = CompoundSignal;
function extend$(sub, sup){
  function fun(){} fun.prototype = (sub.superclass = sup).prototype;
  (sub.prototype = new fun).constructor = sub;
  if (typeof sup.extended == 'function') sup.extended(sub);
  return sub;
}
function import$(obj, src){
  var own = {}.hasOwnProperty;
  for (var key in src) if (own.call(src, key)) obj[key] = src[key];
  return obj;
}